version: v0
name: default
steps:
  - name: Install Dependency
    image: node:latest
    commands:
      - npm install
    next: Is Prod push
  - name: Is Prod push
    when:
      branch:
        - master
    then: Build code
    else: Is Prod PR
  - name: Build code
    image: node:latest
    commands:
      - npm run build
    environment:
      CI: "false"
  - name: Is Prod PR
    when:
      event:
        - pull
    then: Linter
    else: Prettier
  - name: Linter
    image: node:latest
    commands:
      - npm run pretty
  - name: Prettier
    image: node:latest
    commands:
      - npm run pretty
